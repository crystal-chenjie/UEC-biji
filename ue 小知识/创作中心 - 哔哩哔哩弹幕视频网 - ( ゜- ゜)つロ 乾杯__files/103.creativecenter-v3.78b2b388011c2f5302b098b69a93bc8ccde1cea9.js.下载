(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{1109:function(e,t,n){"use strict";n.r(t);var r=n(4268),i=n(2432);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n(3767);var o=n(129),u=Object(o.a)(i.default,r.a,r.b,!1,null,null,null);t.default=u.exports},1153:function(e,t,n){"use strict";n.r(t);var r=n(1154),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);t.default=i.a},1154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"iframe-comp-container",mounted:function(){var e=this;setTimeout(function(){e.init()},100)},props:{uri:{type:String,default:function(){return""}},name:{type:String,default:function(){return""}},isFullContent:{type:Boolean,default:function(){return!1}}},methods:{init:function(){document.body.style.overflowY="hidden",this.bodyId=document.getElementById("cc-body"),this.isFullContent&&(this.bodyId.className+=" cc-body-iframe_wrap"),this.bodyId.style.height="100%"},getIframe:function(){return this.$refs.iframe}},beforeDestroy:function(){document.body.style.overflowY="",this.bodyId&&(this.bodyId.style.height="",this.bodyId.className=this.bodyId.className.replace("cc-body-iframe_wrap",""))}};t.default=r},1155:function(e,t,n){},1168:function(e,t,n){"use strict";n.r(t);var r=n(1171),i=n(1153);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n(1169);var o=n(129),u=Object(o.a)(i.default,r.a,r.b,!1,null,null,null);t.default=u.exports},1169:function(e,t,n){"use strict";var r=n(1155);n.n(r).a},1171:function(e,t,n){"use strict";function r(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"iframe-comp-container"},[n("div",[n("iframe",{ref:"iframe",attrs:{width:"100%",height:"100%",src:e.uri,frameborder:"0",name:e.name||e._uid}})])])}var i=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},2432:function(e,t,n){"use strict";n.r(t);var r=n(2433),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);t.default=i.a},2433:function(e,t,n){"use strict";var r=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=r(n(394)),i=r(n(1168));window.listener=function(e){e.returnValue="eee",e.cancelable=!0};var a={data:function(){return{maskingIsShow:!1,aid:"",url:"",noJump:!1}},components:{IframeCompContainer:i.default},beforeRouteEnter:function(n,e,t){if(r=window.navigator.userAgent,i=r.match(/mobile/i),a=r.match(/ipad/i),!i||a){var r,i,a,o=e.fullPath&&"/"!==e.fullPath?window.encodeURIComponent("//member.bilibili.com/v/#".concat(e.fullPath)):"other";window.reportMsgobj.referrer={url:o},t(function(t){n.query.type&&"editArticle"===n.name&&window.addEventListener("beforeunload",window.listener);var e=t.$store.getters.getZhuanlan;e.loaded?!e.author||e.forbid?t.$router.push("/text-apply"):t.loadedHandler(n):d.default.nav.zhuanlanState().then(function(e){0===e.code&&e.data?(t.$store.dispatch("setZhuanlan",{loaded:!0,author:e.data.is_author,forbid:e.data.forbid}),!e.data.is_author||e.data.forbid?t.$router.push("/text-apply"):t.loadedHandler(n)):t.$router.push("/home")})})}else{var u="?";for(var s in n.query)n.query.hasOwnProperty(s)&&(u+="".concat(s,"=").concat(n.query[s],"&"));window.location.href="/article-text/home".concat(u)}},beforeRouteUpdate:function(e,t,n){if(this.aid=e.query.aid,this.noJump)n();else{var r="?";for(var i in e.query)e.query.hasOwnProperty(i)&&(r+="".concat(i,"=").concat(e.query[i],"&"));this.url="/article-text/home"+r,n()}},beforeRouteLeave:function(e,t,n){var r=t.name,i=t.query;if("editArticle"===r&&i.type){window.removeEventListener("beforeunload",window.listener);var a=this.$refs.editFrame.getIframe();if(a&&a.contentWindow.needConfirm)window.confirm("要离开此网站吗？系统不会保存您所做的更改")?n():n(!1);else n()}else n()},created:function(){if(window.reportObserver)window.reportObserver.sendPV();else var e=setInterval(function(){window.reportObserver&&(window.reportObserver.sendPV(),clearInterval(e))},500)},beforeCreate:function(){var t=this;window.onmessage=function(e){switch((e=e||window.event).data){case"showMasking":t.showMasking();break;case"hideMasking":t.hideMasking();break;case"goLogin":window.location.href="https://account.bilibili.com/login";break;default:t.postMessageHandler(e.data)}}},beforeDestroy:function(){window.onmessage=null},methods:{loadedHandler:function(e){var t="?";for(var n in e.query)e.query.hasOwnProperty(n)&&(t+="".concat(n,"=").concat(e.query[n],"&"));this.url="".concat("/article-text/home").concat(t)},postMessageHandler:function(e){if(e&&"string"==typeof e)try{var t=JSON.parse(e);if(this.noJump=!!t.noJump&&t.noJump,"aid"in t&&t.aid!==this.aid){var n={};t.aid&&(n.aid=t.aid),this.$router.push({query:n})}"errorMsg"in t&&this.$toaster(t.errorMsg,{type:"error"})}catch(e){console.error(e)}},showMasking:function(){this.maskingIsShow=!0},hideMasking:function(){this.maskingIsShow=!1}}};t.default=a},2434:function(e,t,n){},3767:function(e,t,n){"use strict";var r=n(2434);n.n(r).a},4268:function(e,t,n){"use strict";function r(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-article-wrap"},[e.url?n("iframe-comp-container",{ref:"editFrame",class:{showMasking:e.maskingIsShow},attrs:{id:"edit-article-box",uri:e.url}}):e._e(),e._v(" "),n("div",{staticClass:"edit-article-masking",class:{"is-show":e.maskingIsShow}})],1)}var i=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})}}]);
//# sourceMappingURL=103.creativecenter-v3.78b2b388011c2f5302b098b69a93bc8ccde1cea9.js.map